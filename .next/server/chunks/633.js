exports.id=633,exports.ids=[633],exports.modules={58224:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,76093,23)),Promise.resolve().then(a.t.bind(a,21101,23)),Promise.resolve().then(a.t.bind(a,46437,23)),Promise.resolve().then(a.t.bind(a,75364,23)),Promise.resolve().then(a.t.bind(a,80956,23)),Promise.resolve().then(a.t.bind(a,83896,23)),Promise.resolve().then(a.t.bind(a,5567,23))},93072:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,16417,23)),Promise.resolve().then(a.t.bind(a,43609,23)),Promise.resolve().then(a.t.bind(a,33297,23)),Promise.resolve().then(a.t.bind(a,57312,23)),Promise.resolve().then(a.t.bind(a,92608,23)),Promise.resolve().then(a.t.bind(a,47204,23)),Promise.resolve().then(a.t.bind(a,52019,23))},58760:(e,t,a)=>{Promise.resolve().then(a.bind(a,84887)),Promise.resolve().then(a.bind(a,53334)),Promise.resolve().then(a.bind(a,85378)),Promise.resolve().then(a.bind(a,13271))},5960:(e,t,a)=>{Promise.resolve().then(a.bind(a,86827)),Promise.resolve().then(a.bind(a,11227)),Promise.resolve().then(a.bind(a,84766)),Promise.resolve().then(a.bind(a,17715))},86827:(e,t,a)=>{"use strict";a.d(t,{Toaster:()=>i});var r=a(35422),s=a(81375),n=a(65357);let i=({...e})=>{let{theme:t="system"}=(0,s.D)();return(0,r.jsx)(n.l$,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})}},11227:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var r=a(35422),s=a(20719),n=a(14335),i=a(59270);function o({children:e}){let[t,a]=(0,s.useState)(!0),{accessToken:i,setAccessToken:o}=(0,n.n)();return t?(0,r.jsx)("p",{children:"Loading..."}):(0,r.jsx)(r.Fragment,{children:e})}i.callServer,i.findSourceMapURL},84766:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var r=a(35422),s=a(92365),n=a(36817);let i=({children:e})=>{let t=new s.E;return(0,r.jsx)(n.Ht,{client:t,children:e})}},17715:(e,t,a)=>{"use strict";a.d(t,{ThemeProvider:()=>n});var r=a(35422);a(20719);var s=a(81375);function n({children:e,...t}){return(0,r.jsx)(s.N,{...t,children:e})}},14335:(e,t,a)=>{"use strict";a.d(t,{n:()=>r});let r=(0,a(16952).v)(e=>({accessToken:null,setAccessToken:t=>e({accessToken:t}),logout:()=>e({accessToken:null})}))},49320:(e,t,a)=>{"use strict";a.d(t,{i:()=>f,J:()=>m});var r=a(95216);a(76590);var s=a(9167),n=a(98326),i=a(24490),o=a(31218);let c=process.env.SESSION_SECRET,d=new TextEncoder().encode(c);async function l(e){return new o.P(e).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime("7d").sign(d)}async function u(e,t,a){let r=new Date(Date.now()+6048e5),n=await l({userId:e,roleId:t,role:a,expiresAt:r}),i=await (0,s.UL)();console.log("Session:",n),i.set("session",n,{httpOnly:!0,secure:!0,expires:r,sameSite:"lax",path:"/"})}async function f(e,t){try{let e={email:t.get("email"),password:t.get("password")},a=n.$8.safeParse(e);if(!a.success)return{success:!1,message:"Please fix the errors in the form",errors:a.error.flatten().fieldErrors,inputs:e};let r=await (0,i.xI)(a.data),{refreshToken:o,accessToken:c,accessTokenExpiresAt:d,refreshTokenExpiresAt:l}=r.data,f=await (0,s.UL)();f.set("refresh_token",o,{httpOnly:!0,secure:!0,sameSite:"strict",path:"/",expires:new Date(l)}),f.set("access_token",c,{httpOnly:!0,secure:!0,sameSite:"strict",path:"/",expires:new Date(d)});let m={id:r.data.user.id,email:r.data.user.email,phoneNumber:r.data.user.phoneNumber,firstName:r.data.user.firstName,lastName:r.data.user.lastName,isVerified:r.data.user.isVerified,technicianVerified:r.data.user.technicianVerified,roleId:r.data.user.roleId,role:r.data.user.role,accessToken:c};return f.set("id",m.id,{httpOnly:!0,secure:!0,sameSite:"strict",path:"/",expires:new Date(d)}),await u(m.id,m.roleId,m.role.name),{success:!0,message:"Login successful!",inputs:e,data:m}}catch(t){return console.log("Error submitting login:",t),{success:!1,message:t?.response?.data?.error?.message||"An unexpected error occurred",inputs:e.inputs}}}async function m(){try{let e=await (0,s.UL)(),t=e.get("refresh_token"),a=e.get("id");if(!t||!a)return{success:!1,message:"Unable to refresh access token",inputs:{email:"",password:""},data:null};{let r={id:a.value,refreshToken:t.value},s=await (0,i.Sk)(r);return e.set("access_token",s.data.accessToken,{secure:!0,sameSite:"strict",path:"/",expires:new Date(s.data.accessTokenExpiresAt)}),e.set("refresh_token",s.data.refreshToken,{secure:!0,sameSite:"strict",path:"/",expires:new Date(s.data.refreshTokenExpiresAt)}),{success:!0,message:"Access token refreshed successfully",inputs:{email:"",password:""},data:s.data}}}catch(e){return{success:!1,message:"Unable to  access token",inputs:{email:"",password:""},data:null}}}(0,a(72874).D)([f,m]),(0,r.A)(f,"6079c3dc3704d402cc4d838f69b5081669a5e772a0",null),(0,r.A)(m,"00762f982ad1969a15f6477cb953c468c696ab75b9",null)},98326:(e,t,a)=>{"use strict";a.d(t,{$8:()=>s,Kq:()=>c,cl:()=>o,dt:()=>i,le:()=>n});var r=a(35104);r.z.object({email:r.z.string().email(),password:r.z.string(),phoneNumber:r.z.string().min(10),firstName:r.z.string().min(2),lastName:r.z.string().min(2),roleId:r.z.string().min(1)});let s=r.z.object({email:r.z.string().email(),password:r.z.string().min(8)});r.z.object({email:r.z.string().email(),password:r.z.string().min(8)}),r.z.object({email:r.z.string().email()}),r.z.object({otp:r.z.number().min(6).max(6)});let n=r.z.object({oldPassword:r.z.string().min(8),newPassword:r.z.string().min(8),confirmNewPassword:r.z.string().min(8)}),i=r.z.object({firstName:r.z.string().min(1),lastName:r.z.string().min(1),phoneNumber:r.z.string().min(1)});r.z.object({streetAddress:r.z.string().min(1,"Street address is required"),apartment:r.z.string().optional(),city:r.z.string().min(1,"City is required"),state:r.z.string().min(1,"State is required"),zipCode:r.z.string().min(5,"ZIP code must be at least 5 characters"),country:r.z.string().min(1,"Country is required")}),r.z.object({name:r.z.string().min(1),subCategoryId:r.z.string().uuid(),defaultPrice:r.z.number().positive(),models:r.z.array(r.z.object({name:r.z.string().min(1),description:r.z.string().min(1),price:r.z.number().positive(),features:r.z.array(r.z.object({description:r.z.string().min(1)})),inventory:r.z.object({quantity:r.z.number().int().nonnegative()})}))});let o=r.z.object({name:r.z.string().min(1)}),c=r.z.object({name:r.z.string().min(1),categoryId:r.z.string().uuid()})},45874:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m,metadata:()=>f});var r=a(23002),s=a(22670),n=a.n(s),i=a(77040),o=a.n(i),c=a(13271);a(40483);var d=a(85378),l=a(53334),u=a(84887);let f={title:"Hik Digital Mart Admin",description:"Generated by create next app"};function m({children:e}){return(0,r.jsx)("html",{lang:"en",suppressHydrationWarning:!0,children:(0,r.jsx)("body",{className:`${n().variable} ${o().variable} bg-background antialiased`,children:(0,r.jsx)(d.default,{children:(0,r.jsxs)(c.ThemeProvider,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:[(0,r.jsx)(l.default,{children:e}),(0,r.jsx)(u.Toaster,{richColors:!0})]})})})})}},84887:(e,t,a)=>{"use strict";a.d(t,{Toaster:()=>r});let r=(0,a(65002).registerClientReference)(function(){throw Error("Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/tevinobai/Developer/Experiments/hikdigimart_admin/src/components/ui/sonner.tsx","Toaster")},53334:(e,t,a)=>{"use strict";a.d(t,{default:()=>r});let r=(0,a(65002).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/tevinobai/Developer/Experiments/hikdigimart_admin/src/context/auth-provider.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/tevinobai/Developer/Experiments/hikdigimart_admin/src/context/auth-provider.tsx","default")},85378:(e,t,a)=>{"use strict";a.d(t,{default:()=>r});let r=(0,a(65002).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/tevinobai/Developer/Experiments/hikdigimart_admin/src/context/query-provider.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/tevinobai/Developer/Experiments/hikdigimart_admin/src/context/query-provider.tsx","default")},13271:(e,t,a)=>{"use strict";a.d(t,{ThemeProvider:()=>r});let r=(0,a(65002).registerClientReference)(function(){throw Error("Attempted to call ThemeProvider() from the server but ThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/tevinobai/Developer/Experiments/hikdigimart_admin/src/context/theme-provider.tsx","ThemeProvider")},24490:(e,t,a)=>{"use strict";a.d(t,{D3:()=>x,nC:()=>A,ny:()=>C,JR:()=>u,XB:()=>f,wc:()=>k,Zn:()=>j,uL:()=>S,SX:()=>N,Wn:()=>P,zu:()=>T,L_:()=>h,G1:()=>z,_2:()=>$,yR:()=>b,DJ:()=>m,MJ:()=>Z,Hn:()=>V,HL:()=>J,oB:()=>g,p7:()=>p,AY:()=>G,q:()=>M,CQ:()=>H,ZF:()=>B,zm:()=>F,xI:()=>o,Sk:()=>d,BN:()=>c,sm:()=>R,Ot:()=>E});var r=a(95216);a(76590);var s=a(9167);let n=a(61276).A.create({baseURL:"https://api.hikvisionkenyashop.com/api/",withCredentials:!0,timeout:1e4});var i=a(72874);n.interceptors.request.use(async e=>{let t=await (0,s.UL)(),a=t.get("access_token")?.value;return a&&(e.headers.Authorization=`Bearer ${a}`),e},e=>Promise.reject(e));let o=async e=>await n.post("/auth/admin/login",e),c=async e=>await n.post("/user/create-user",e),d=async e=>await n.post("/auth/refresh",e),l=async e=>await n.post("/auth/forgot-password",e),u=async e=>await n.post("/auth/change-password",e),f=async(e,t)=>await n.put(`/admin/user/update-user/${e}`,t),m=async()=>await n.get("/admin/dashboard"),b=async(e={})=>{let{page:t=1,limit:a=10,searchTerm:r,roleId:s}=e,i=new URLSearchParams({page:String(t),limit:String(a),...r?{searchTerm:r}:{},...s?{roleId:s}:{}}).toString();return await n.get(`/admin/user/get-all-users?${i}`)},p=async(e={})=>{let{page:t=1,limit:a=10,searchTerm:r}=e,s=new URLSearchParams({page:String(t),limit:String(a),...r?{searchTerm:r}:{}}).toString();return await n.get(`/admin/user/technician-request?${s}`)},g=async(e={})=>{let{page:t=1,limit:a=10,searchTerm:r}=e,s=new URLSearchParams({page:String(t),limit:String(a),...r?{searchTerm:r}:{}}).toString();return await n.get(`/admin/user/shop-owners-requests?${s}`)},h=async()=>await n.get("admin/role"),w=async e=>await n.get(`/user/get-user/${e}`),v=async e=>await n.get(`/user/get-user-by-email/${e}`),y=async(e,t)=>await n.put(`/user/update-user/${e}`,t),A=async e=>await n.post(`/admin/user/approve-technician/${e}`),x=async e=>await n.post(`/admin/user/approve-shopowner/${e}`),z=async e=>await n.get("/admin/product/orders",{params:e}),P=async e=>await n.get("/admin/product",{params:e}),k=async e=>await n.post("/admin/product/categories/create",e),S=async e=>await n.post("/admin/product/subcategories/create",e),j=async e=>await n.post("/product/create-product",e),C=async e=>{await n.post("/admin/product/upload-xslx",e)},T=async(e={})=>{let{page:t=1,limit:a=10,searchTerm:r}=e,s=new URLSearchParams({page:String(t),limit:String(a),...r?{searchTerm:r}:{}}).toString();return await n.get(`/admin/product/reviews?${s}`)},E=async e=>await n.post("/admin/product/add-images",e),D=async e=>await n.get(`/product/by-id/${e}`),N=async()=>await n.get("/admin/product/categories"),$=async()=>await n.get("/admin/product/subcategories"),U=async()=>await n.get("/product/orders"),I=async e=>await n.post("/product/product/add-images",e),L=async e=>await n.post("/product/set-primary-image",e),_=async e=>await n.delete(`/product/remove-image/${e}`),R=async(e,t)=>await n.post(`admin/product/respond-review/${e}`,{message:t}),q=async e=>await n.post("/product/add-stock",e),O=async e=>await n.put("/product/update-stock",e),H=async()=>await n.get("/admin/report/user-registrations"),B=async()=>await n.get("/admin/report/verified-users"),J=async()=>await n.get("/admin/report/sales-summary"),V=async()=>await n.get("/admin/report/order-status"),M=async()=>await n.get("/admin/report/top-products"),Z=async e=>await n.get("/admin/report/low-stock",{params:e}),F=async()=>await n.get("/admin/report/wishlist-trends"),G=async()=>await n.get("/admin/report/technician-registrations");(0,i.D)([o,c,d,l,u,f,m,b,p,g,h,w,v,y,A,x,z,P,k,S,j,C,T,E,D,N,$,U,I,L,_,R,q,O,H,B,J,V,M,Z,F,G]),(0,r.A)(o,"7fc28559668bdcb3a588a57b178bd403a05f8b966e",null),(0,r.A)(c,"7f748391e570fc3e04310e737eb6aa890afcb81d6f",null),(0,r.A)(d,"7fcb86f5857b9d6d6fa97a387862ce35754919b826",null),(0,r.A)(l,"7fdb7837f431096acbd6b87f700fdb00481281b4d8",null),(0,r.A)(u,"7f2ef4c89472aee7a722b2fad10bf91d6fb97bfb76",null),(0,r.A)(f,"7fb32b08c3fdcda8d94ba6fb4450c85073cb07da1b",null),(0,r.A)(m,"7f435a337b7dbac2aa65b23ee252588d60dd579fc4",null),(0,r.A)(b,"7fff386ad294fa0599946b503866aa5b2f085e719f",null),(0,r.A)(p,"7f99d83662488aa602be6cc195e9a835e672e422ef",null),(0,r.A)(g,"7f0bed14f09d23ac3ee6059d70fe224b91d0166aec",null),(0,r.A)(h,"7f88cbe86c7060f1df86b22765436c5352b521b730",null),(0,r.A)(w,"7f5660748e763922a4fb4dc01e11ab7466e7d1c614",null),(0,r.A)(v,"7f14b767cb7bce7856dee6c28993faab62127daaf4",null),(0,r.A)(y,"7f3c091bba8914c9a5274528bf6a8b78ad98a0f8de",null),(0,r.A)(A,"7fe2276d2047bb63302918ffb15533f5c9c1991a97",null),(0,r.A)(x,"7f10f819c6b5573c01464742bf4fdf7e30003405b5",null),(0,r.A)(z,"7fa5656cba0176644ae021287a2f9fe4e6f9e589c2",null),(0,r.A)(P,"7f60214ffffb8680dddef89adda10ce4723a26a6dd",null),(0,r.A)(k,"7ffa2fb3f4dec0db870c88bf650be587c3e411f180",null),(0,r.A)(S,"7fa0e96a8663df34629b2d54c76f10c06f43964033",null),(0,r.A)(j,"7fcdeca0c5a8e80b3628cad2c2ea07b0ab5a10a32b",null),(0,r.A)(C,"7fea9db822abea9dc652cfc31e302a70df670b3141",null),(0,r.A)(T,"7f2cdc1de7f0914f827b84ed600deb059ce46e322f",null),(0,r.A)(E,"7fbc0669f6682ad9ea76ca3091c4501a5c9fc26964",null),(0,r.A)(D,"7f9550c01b5011b7436781b8e4a0de58a5fa368d3d",null),(0,r.A)(N,"7fde0c5a0418cfd739d5f0f807655ca103971386ed",null),(0,r.A)($,"7fe6f498c23240a155f92e17af396f21fae0218843",null),(0,r.A)(U,"7ff1be23d894a9f608368369e8ebbac19444cc8faf",null),(0,r.A)(I,"7f490decc2439a0e6a909732aef23593eb1f070107",null),(0,r.A)(L,"7f84ecaddd604d36ba89fdc84c1e823d5eb644c4e1",null),(0,r.A)(_,"7f9068f16b46f621eed5caa0e845e53cdbeab64e84",null),(0,r.A)(R,"7f3b74ad8c0ca81f0d39c5887523145340a3bbeee5",null),(0,r.A)(q,"7fa6926050eb9aac25cc953cdc3f8a2c585bbf16c7",null),(0,r.A)(O,"7f4575f4c31a7464ed5ec9b1f5dcd3001bfbf3b60b",null),(0,r.A)(H,"7f66e69d6a06cb475cbd86198335578e956754e7da",null),(0,r.A)(B,"7f6dbdb6c2ebca78ba324cc64209d7926f2728cea1",null),(0,r.A)(J,"7f70fdcb1c492b2265398246a4c316fe39c6933e24",null),(0,r.A)(V,"7ffe7e37b0cbb3b1a66c4f27a11c319c69711cd385",null),(0,r.A)(M,"7f348686da55cd2faefe0f44bbb8d3dd0b310e8b86",null),(0,r.A)(Z,"7fef5da10f8b77b6688a3173619bbabb30738f22a4",null),(0,r.A)(F,"7fd4650cf94a3a1aacb39cb95729db45826265cf58",null),(0,r.A)(G,"7fd778c89d8b81b21358897c6ee8d61247f42b710e",null)},40483:()=>{}};