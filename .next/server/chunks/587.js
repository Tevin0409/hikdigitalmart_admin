exports.id=587,exports.ids=[587],exports.modules={89007:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,76093,23)),Promise.resolve().then(a.t.bind(a,21101,23)),Promise.resolve().then(a.t.bind(a,46437,23)),Promise.resolve().then(a.t.bind(a,75364,23)),Promise.resolve().then(a.t.bind(a,80956,23)),Promise.resolve().then(a.t.bind(a,83896,23)),Promise.resolve().then(a.t.bind(a,5567,23))},48839:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,16417,23)),Promise.resolve().then(a.t.bind(a,43609,23)),Promise.resolve().then(a.t.bind(a,33297,23)),Promise.resolve().then(a.t.bind(a,57312,23)),Promise.resolve().then(a.t.bind(a,92608,23)),Promise.resolve().then(a.t.bind(a,47204,23)),Promise.resolve().then(a.t.bind(a,52019,23))},12847:(e,t,a)=>{Promise.resolve().then(a.bind(a,84887)),Promise.resolve().then(a.bind(a,53334)),Promise.resolve().then(a.bind(a,85378)),Promise.resolve().then(a.bind(a,13271))},21095:(e,t,a)=>{Promise.resolve().then(a.bind(a,86827)),Promise.resolve().then(a.bind(a,92420)),Promise.resolve().then(a.bind(a,84766)),Promise.resolve().then(a.bind(a,17715))},86827:(e,t,a)=>{"use strict";a.d(t,{Toaster:()=>i});var r=a(35422),s=a(81375),n=a(65357);let i=({...e})=>{let{theme:t="system"}=(0,s.D)();return(0,r.jsx)(n.l$,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})}},92420:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var r=a(35422),s=a(20719),n=a(14335),i=a(59270);function o({children:e}){let[t,a]=(0,s.useState)(!0),{accessToken:i,setAccessToken:o}=(0,n.n)();return t?(0,r.jsx)("p",{children:"Loading..."}):(0,r.jsx)(r.Fragment,{children:e})}i.callServer,i.findSourceMapURL},84766:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var r=a(35422),s=a(92365),n=a(36817);let i=({children:e})=>{let t=new s.E;return(0,r.jsx)(n.Ht,{client:t,children:e})}},17715:(e,t,a)=>{"use strict";a.d(t,{ThemeProvider:()=>n});var r=a(35422);a(20719);var s=a(81375);function n({children:e,...t}){return(0,r.jsx)(s.N,{...t,children:e})}},14335:(e,t,a)=>{"use strict";a.d(t,{n:()=>r});let r=(0,a(16952).v)(e=>({accessToken:null,setAccessToken:t=>e({accessToken:t}),logout:()=>e({accessToken:null})}))},49320:(e,t,a)=>{"use strict";a.d(t,{i:()=>f,J:()=>m});var r=a(95216);a(76590);var s=a(9167),n=a(98326),i=a(24490),o=a(31218);let d=process.env.SESSION_SECRET,c=new TextEncoder().encode(d);async function l(e){return new o.P(e).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime("7d").sign(c)}async function u(e,t,a){let r=new Date(Date.now()+6048e5),n=await l({userId:e,roleId:t,role:a,expiresAt:r}),i=await (0,s.UL)();console.log("Session:",n),i.set("session",n,{httpOnly:!0,secure:!0,expires:r,sameSite:"lax",path:"/"})}async function f(e,t){try{let e={email:t.get("email"),password:t.get("password")},a=n.$8.safeParse(e);if(!a.success)return{success:!1,message:"Please fix the errors in the form",errors:a.error.flatten().fieldErrors,inputs:e};let r=await (0,i.xI)(a.data),{refreshToken:o,accessToken:d,accessTokenExpiresAt:c,refreshTokenExpiresAt:l}=r.data,f=await (0,s.UL)();f.set("refresh_token",o,{httpOnly:!0,secure:!0,sameSite:"strict",path:"/",expires:new Date(l)}),f.set("access_token",d,{httpOnly:!0,secure:!0,sameSite:"strict",path:"/",expires:new Date(c)});let m={id:r.data.user.id,email:r.data.user.email,phoneNumber:r.data.user.phoneNumber,firstName:r.data.user.firstName,lastName:r.data.user.lastName,isVerified:r.data.user.isVerified,technicianVerified:r.data.user.technicianVerified,roleId:r.data.user.roleId,role:r.data.user.role,accessToken:d};return f.set("id",m.id,{httpOnly:!0,secure:!0,sameSite:"strict",path:"/",expires:new Date(c)}),await u(m.id,m.roleId,m.role.name),{success:!0,message:"Login successful!",inputs:e,data:m}}catch(t){return console.log("Error submitting login:",t),{success:!1,message:t?.response?.data?.error?.message||"An unexpected error occurred",inputs:e.inputs}}}async function m(){try{let e=await (0,s.UL)(),t=e.get("refresh_token"),a=e.get("id");if(!t||!a)return{success:!1,message:"Unable to refresh access token",inputs:{email:"",password:""},data:null};{let r={id:a.value,refreshToken:t.value},s=await (0,i.Sk)(r);return e.set("access_token",s.data.accessToken,{secure:!0,sameSite:"strict",path:"/",expires:new Date(s.data.accessTokenExpiresAt)}),e.set("refresh_token",s.data.refreshToken,{secure:!0,sameSite:"strict",path:"/",expires:new Date(s.data.refreshTokenExpiresAt)}),{success:!0,message:"Access token refreshed successfully",inputs:{email:"",password:""},data:s.data}}}catch(e){return{success:!1,message:"Unable to  access token",inputs:{email:"",password:""},data:null}}}(0,a(72874).D)([f,m]),(0,r.A)(f,"60372a503d3986c35405649e579ce7b7c925d6988e",null),(0,r.A)(m,"00952081ff33c7b50f74fed72d949de94444651d54",null)},98326:(e,t,a)=>{"use strict";a.d(t,{$8:()=>s,Kq:()=>d,cl:()=>o,dt:()=>i,le:()=>n});var r=a(35104);r.z.object({email:r.z.string().email(),password:r.z.string(),phoneNumber:r.z.string().min(10),firstName:r.z.string().min(2),lastName:r.z.string().min(2),roleId:r.z.string().min(1)});let s=r.z.object({email:r.z.string().email(),password:r.z.string().min(8)});r.z.object({email:r.z.string().email(),password:r.z.string().min(8)}),r.z.object({email:r.z.string().email()}),r.z.object({otp:r.z.number().min(6).max(6)});let n=r.z.object({oldPassword:r.z.string().min(8),newPassword:r.z.string().min(8),confirmNewPassword:r.z.string().min(8)}),i=r.z.object({firstName:r.z.string().min(1),lastName:r.z.string().min(1),phoneNumber:r.z.string().min(1)});r.z.object({streetAddress:r.z.string().min(1,"Street address is required"),apartment:r.z.string().optional(),city:r.z.string().min(1,"City is required"),state:r.z.string().min(1,"State is required"),zipCode:r.z.string().min(5,"ZIP code must be at least 5 characters"),country:r.z.string().min(1,"Country is required")}),r.z.object({name:r.z.string().min(1),subCategoryId:r.z.string().uuid(),defaultPrice:r.z.number().positive(),models:r.z.array(r.z.object({name:r.z.string().min(1),description:r.z.string().min(1),price:r.z.number().positive(),features:r.z.array(r.z.object({description:r.z.string().min(1)})),inventory:r.z.object({quantity:r.z.number().int().nonnegative()})}))});let o=r.z.object({name:r.z.string().min(1)}),d=r.z.object({name:r.z.string().min(1),categoryId:r.z.string().uuid()})},45874:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m,metadata:()=>f});var r=a(23002),s=a(22670),n=a.n(s),i=a(77040),o=a.n(i),d=a(13271);a(40483);var c=a(85378),l=a(53334),u=a(84887);let f={title:"Hik Digital Mart Admin",description:"Generated by create next app"};function m({children:e}){return(0,r.jsx)("html",{lang:"en",suppressHydrationWarning:!0,children:(0,r.jsx)("body",{className:`${n().variable} ${o().variable} bg-background antialiased`,children:(0,r.jsx)(c.default,{children:(0,r.jsxs)(d.ThemeProvider,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:[(0,r.jsx)(l.default,{children:e}),(0,r.jsx)(u.Toaster,{richColors:!0})]})})})})}},84887:(e,t,a)=>{"use strict";a.d(t,{Toaster:()=>r});let r=(0,a(65002).registerClientReference)(function(){throw Error("Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/iannjoroge/dummy/hikdigitalmart_admin/src/components/ui/sonner.tsx","Toaster")},53334:(e,t,a)=>{"use strict";a.d(t,{default:()=>r});let r=(0,a(65002).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/iannjoroge/dummy/hikdigitalmart_admin/src/context/auth-provider.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/iannjoroge/dummy/hikdigitalmart_admin/src/context/auth-provider.tsx","default")},85378:(e,t,a)=>{"use strict";a.d(t,{default:()=>r});let r=(0,a(65002).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/iannjoroge/dummy/hikdigitalmart_admin/src/context/query-provider.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/iannjoroge/dummy/hikdigitalmart_admin/src/context/query-provider.tsx","default")},13271:(e,t,a)=>{"use strict";a.d(t,{ThemeProvider:()=>r});let r=(0,a(65002).registerClientReference)(function(){throw Error("Attempted to call ThemeProvider() from the server but ThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/iannjoroge/dummy/hikdigitalmart_admin/src/context/theme-provider.tsx","ThemeProvider")},24490:(e,t,a)=>{"use strict";a.d(t,{D3:()=>z,nC:()=>A,ny:()=>C,JR:()=>u,XB:()=>f,wc:()=>k,Zn:()=>j,uL:()=>S,SX:()=>U,Wn:()=>P,zu:()=>T,L_:()=>h,G1:()=>x,_2:()=>I,yR:()=>b,DJ:()=>m,MJ:()=>Z,Hn:()=>V,HL:()=>J,oB:()=>g,p7:()=>p,AY:()=>G,q:()=>M,CQ:()=>H,ZF:()=>B,zm:()=>F,xI:()=>o,Sk:()=>c,BN:()=>d,sm:()=>R,Ot:()=>N});var r=a(95216);a(76590);var s=a(9167);let n=a(61276).A.create({baseURL:"https://api.hikvisionkenyashop.com/api/",withCredentials:!0,timeout:1e4});var i=a(72874);n.interceptors.request.use(async e=>{let t=await (0,s.UL)(),a=t.get("access_token")?.value;return a&&(e.headers.Authorization=`Bearer ${a}`),e},e=>Promise.reject(e));let o=async e=>await n.post("/auth/admin/login",e),d=async e=>await n.post("/user/create-user",e),c=async e=>await n.post("/auth/refresh",e),l=async e=>await n.post("/auth/forgot-password",e),u=async e=>await n.post("/auth/change-password",e),f=async(e,t)=>await n.put(`/admin/user/update-user/${e}`,t),m=async()=>await n.get("/admin/dashboard"),b=async(e={})=>{let{page:t=1,limit:a=10,searchTerm:r,roleId:s}=e,i=new URLSearchParams({page:String(t),limit:String(a),...r?{searchTerm:r}:{},...s?{roleId:s}:{}}).toString();return await n.get(`/admin/user/get-all-users?${i}`)},p=async(e={})=>{let{page:t=1,limit:a=10,searchTerm:r}=e,s=new URLSearchParams({page:String(t),limit:String(a),...r?{searchTerm:r}:{}}).toString();return await n.get(`/admin/user/technician-request?${s}`)},g=async(e={})=>{let{page:t=1,limit:a=10,searchTerm:r}=e,s=new URLSearchParams({page:String(t),limit:String(a),...r?{searchTerm:r}:{}}).toString();return await n.get(`/admin/user/shop-owners-requests?${s}`)},h=async()=>await n.get("admin/role"),w=async e=>await n.get(`/user/get-user/${e}`),y=async e=>await n.get(`/user/get-user-by-email/${e}`),v=async(e,t)=>await n.put(`/user/update-user/${e}`,t),A=async e=>await n.post(`/admin/user/approve-technician/${e}`),z=async e=>await n.post(`/admin/user/approve-shopowner/${e}`),x=async e=>await n.get("/admin/product/orders",{params:e}),P=async e=>await n.get("/admin/product",{params:e}),k=async e=>await n.post("/admin/product/categories/create",e),S=async e=>await n.post("/admin/product/subcategories/create",e),j=async e=>await n.post("/product/create-product",e),C=async e=>{await n.post("/admin/product/upload-xslx",e)},T=async(e={})=>{let{page:t=1,limit:a=10,searchTerm:r}=e,s=new URLSearchParams({page:String(t),limit:String(a),...r?{searchTerm:r}:{}}).toString();return await n.get(`/admin/product/reviews?${s}`)},N=async e=>await n.post("/admin/product/add-images",e),$=async e=>await n.get(`/product/by-id/${e}`),U=async()=>await n.get("/admin/product/categories"),I=async()=>await n.get("/admin/product/subcategories"),L=async()=>await n.get("/product/orders"),_=async e=>await n.post("/product/product/add-images",e),E=async e=>await n.post("/product/set-primary-image",e),D=async e=>await n.delete(`/product/remove-image/${e}`),R=async(e,t)=>await n.post(`admin/product/respond-review/${e}`,{message:t}),q=async e=>await n.post("/product/add-stock",e),O=async e=>await n.put("/product/update-stock",e),H=async()=>await n.get("/admin/report/user-registrations"),B=async()=>await n.get("/admin/report/verified-users"),J=async()=>await n.get("/admin/report/sales-summary"),V=async()=>await n.get("/admin/report/order-status"),M=async()=>await n.get("/admin/report/top-products"),Z=async e=>await n.get("/admin/report/low-stock",{params:e}),F=async()=>await n.get("/admin/report/wishlist-trends"),G=async()=>await n.get("/admin/report/technician-registrations");(0,i.D)([o,d,c,l,u,f,m,b,p,g,h,w,y,v,A,z,x,P,k,S,j,C,T,N,$,U,I,L,_,E,D,R,q,O,H,B,J,V,M,Z,F,G]),(0,r.A)(o,"7f33a814a9d13a28b10a595d11d66c30bb18c0634e",null),(0,r.A)(d,"7f4e8ed15e1c43f0dbb03dc823732e326437324a6a",null),(0,r.A)(c,"7f799d3207b1bbc114df392f7ac55efffdeb28f6db",null),(0,r.A)(l,"7f34f7f19a93db74eced45db11bc82d1d96e92b710",null),(0,r.A)(u,"7fa36ada5d1c7105b0981913142fee083021892f65",null),(0,r.A)(f,"7fd334b1993ad1cffe0020d895bbaf8f4b52c759be",null),(0,r.A)(m,"7fa52178fe0f7fba3ac98faa88d999e14c8b833346",null),(0,r.A)(b,"7f54104ca05cd5a797031157b9cb395c0716b31048",null),(0,r.A)(p,"7fe7644734ddb7a78a7c563e1f1ebe5977c112d5f8",null),(0,r.A)(g,"7f77a27b59b4207696da28d735466c6af07108eaa0",null),(0,r.A)(h,"7f1e74cb57a5ad30b919ccd996b0612750f39c0338",null),(0,r.A)(w,"7f967a78ca4c9feaaf2b2c98f6911b263afa96de29",null),(0,r.A)(y,"7ffceb25b7ce5776006dd68b42c3fa6d391bdae8b9",null),(0,r.A)(v,"7fd212f33822049f4c0b8e13f06dc02321f72a0cae",null),(0,r.A)(A,"7f9fbe6bed47500c29dabc499c3812a46bef7dd2e1",null),(0,r.A)(z,"7fa0ba4823f4d28a409d973fd0225048d072db4b44",null),(0,r.A)(x,"7f7b8fc154761555236a8078c27931ef659aeae151",null),(0,r.A)(P,"7f163bf440570fcbc70e7ecf8e27f9c8e4449f7d2c",null),(0,r.A)(k,"7ff14a3e135893140be104367320bcb3bb40da5d1f",null),(0,r.A)(S,"7f58d5f010ee2065a7c019e4f7709819128ac2fc1f",null),(0,r.A)(j,"7fbe097e7e9ed46a8c7e2f12cf3294b135d4117a5a",null),(0,r.A)(C,"7f64546d2eb5e23ff8f5843fca8690bab234321d17",null),(0,r.A)(T,"7f279f998791a43f98759c4fdff1b564f560fd59ff",null),(0,r.A)(N,"7f130476a7335f8e28903d2ac1331173d61b26a85d",null),(0,r.A)($,"7fce5ff525da8384a5bd0bcf80e5aa4ad4b87857be",null),(0,r.A)(U,"7fd1811d99eae4761d5f188b53933bc474d15e70a2",null),(0,r.A)(I,"7f45ddd6c6d3d0b7241ad9c8b4a34c7ab33d2141ab",null),(0,r.A)(L,"7f613cee3c6d94f26c775ed6d37bb0939c38ff2227",null),(0,r.A)(_,"7fd773935d394c799f5f51dd09e5b282893614d860",null),(0,r.A)(E,"7f5784447977305aea07fd032314cefa3909c9ff94",null),(0,r.A)(D,"7f0d9d7eda87001fc8d64888979e5d8ec270687bb1",null),(0,r.A)(R,"7f28d8a7e50bf4a1e24a9b33dc72265bada95b2e5c",null),(0,r.A)(q,"7fdfc2e970c843595771838adb771e3f83cc763a93",null),(0,r.A)(O,"7f5250238d2fc0bb3e3426f804bfdea2e2eb03cda8",null),(0,r.A)(H,"7f55627c630e86ae192444679bb9df854d36fba55b",null),(0,r.A)(B,"7f6ac81bba5fcd8e8a29153d441cdffb5903614baa",null),(0,r.A)(J,"7f3c3f2d3be1ad01b3761a2ec7d53b4740c9822fd5",null),(0,r.A)(V,"7fd504fb4c3fa48e33d2546f0a99a15be665b98158",null),(0,r.A)(M,"7f49097c4650aae8bc5c0a2767ef7528b1f584c7f4",null),(0,r.A)(Z,"7fe65faa9170fbcb2b8556e2ad7c93cd3e26b7b92c",null),(0,r.A)(F,"7fe664a74aeb0bf1147d7770a97a744557171fbe77",null),(0,r.A)(G,"7fdd41ee07acb63f7cb814785e6b7ac0ffbb00f604",null)},40483:()=>{}};